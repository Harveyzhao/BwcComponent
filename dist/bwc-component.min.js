"use strict";function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}/**
 * @license Bwcmall Angular components package v1.0.0
 * License: MIT
 */
!function(t){t.module("bwc.component",[]).constant("bwcConfig",{baseUrl:"/"})}(angular),function(t){function e(t){t.$ctrl.type=t.$ctrl.type?t.$ctrl.type:"default",t.$ctrl.icon=t.$ctrl.icon?t.$ctrl.icon:"",t.$ctrl.nativeType=t.$ctrl.nativeType?t.$ctrl.nativeType:"button"}var n;t.module("bwc.component").component("bwcButton",{template:'<button disabled="{{$ctrl.disabled}}" class="el-button" ng-click="handleClick()" autofocus="{{$ctrl.autofocus}}" type="{{$ctrl.nativeType}}"\n                            ng-class="[\n                            $ctrl.type ? \'el-button--\' + $ctrl.type : \'\',\n                            $ctrl.size ? \'el-button--\' + $ctrl.size : \'\',\n                            {\n                                \'is-disabled\': $ctrl.disabled,\n                                \'is-loading\': $ctrl.loading,\n                                \'is-plain\': $ctrl.plain\n                            }\n                            ]">\n                            <i class="el-icon-loading" ng-if="$ctrl.loading"></i>\n                            <i ng-class="\'el-icon-\' + $ctrl.icon" ng-if="$ctrl.icon && !$ctrl.loading"></i>\n                            <span ng-transclude></span>\n                        </button>',controller:e,transclude:!0,bindings:(n={autofocus:"=?",loading:"=?",disabled:"=?",plain:"=?"},_defineProperty(n,"autofocus","=?"),_defineProperty(n,"type","=?"),_defineProperty(n,"icon","=?"),_defineProperty(n,"size","=?"),_defineProperty(n,"nativeType","=?"),n)})}(angular),function(t){function e(t){console.log(t.$ctrl),t.$ctrl.value=t.$ctrl.value?t.$ctrl.value:{},t.$ctrl.label=t.$ctrl.label?t.$ctrl.label:{}}t.module("bwc.component").component("bwcRadio",{template:'<label class="el-radio">\n\t\t\t\t\t\t<span class="el-radio__input"\n\t\t\t\t\t\tng-class="{\n\t\t\t\t\t\t\t\'is-disabled\': $ctrl.isDisabled,\n\t\t\t\t\t\t\t\'is-checked\': $ctrl.bwcModel === $ctrl.label,\n\t\t\t\t\t\t\t\'is-focus\': focus\n\t\t\t\t\t\t}"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<span class="el-radio__inner"></span>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclass="el-radio__original"\n\t\t\t\t\t\t\tng-value="$ctrl.label"\n\t\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\t\tng-model="$ctrl.bwcModel"\n\t\t\t\t\t\t\tng-focus="focus = true"\n\t\t\t\t\t\t\tng-blur="focus = false"\n\t\t\t\t\t\t\tname="{{$ctrl.name}}"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class="el-radio__label">\n\t\t\t\t\t\t<span ng-transclude></span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</label>',controller:e,transclude:!0,bindings:{value:"=?",label:"=?",disabled:"=?",name:"=?",bwcModel:"=?"}})}(angular),function(t){function e(e,n){function l(t){var e=Array.prototype.slice.call(t);e=e.slice(0,1),0!==e.length&&e.forEach(function(t){p(t),u&&a(t)})}function i(t){var n,l=e.fileList;return l.every(function(e){return!(n=t.uid===e.uid?e:null)}),n}function a(t,e){var n=this;if(!f)return o(t);before&&before.then?before.then(function(e){o("[object File]"===Object.prototype.toString.call(e)?e:t)},function(){n.onRemove(t,!0)}):before!==!1?o(t):this.onRemove(t,!0)}function o(t){s({headers:{},withCredentials:!1,file:t,data:{},filename:"file",action:e.action,onProgress:function(t){},onSuccess:function(t){},onError:function(t){}})}function s(t){if("undefined"!=typeof XMLHttpRequest){var e=new XMLHttpRequest,n=t.action;e.upload&&(e.upload.onprogress=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.onProgress(e)});var l=new FormData;t.data&&Object.keys(t.data).map(function(e){l.append(e,t.data[e])}),l.append(t.filename,t.file),e.onerror=function(e){t.onError(e)},e.onload=function(){if(e.status<200||e.status>=300)return t.onError(c(n,t,e));t.onSuccess(r(e))},e.open("post",n,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var i=t.headers||{};for(var a in i)i.hasOwnProperty(a)&&null!==i[a]&&e.setRequestHeader(a,i[a]);return e.send(l),e}}function c(t,e,n){var l=void 0;l=n.response?n.status+" "+(n.response.error||n.response):n.responseText?n.status+" "+n.responseText:"fail to post "+t+" "+n.status+"'";var i=new Error(l);return i.status=n.status,i.method="post",i.url=t,i}function r(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch(t){return e}}console.log(n),e.fileList=[],e.action="http://api.admin.earth.dev.bwcmall.cn/api/v1/brand/upload?token=7e42b3bbe908bec99a1906dfb7b3004e";var u=!0,d=0,p=function(t){t.uid=Date.now()+d++;var n={status:"success",name:t.name,size:t.size,percentage:0,uid:t.uid,raw:t};try{n.url=URL.createObjectURL(t)}catch(t){return void console.error(t)}e.fileList.push(n)},f=void 0;e.handleChange=function(t){console.log(t.files);var n=t.files;n&&(l(n),e.file=null)},e.handleClick=function(){setTimeout(function(){t.element.find("input[type=file]")[0].click()},0)},e.remove=function(t,n){n&&(t=i(n));var l=e.fileList;l.splice(l.indexOf(t),1)}}t.module("bwc.component").component("bwcUpload",{template:'<ul ng-class="[\'el-upload-list\', \'el-upload-list--\' + \'picture-card\']">\n\t\t\t\t\t\t\t<li ng-repeat="file in fileList" ng-class="[\'el-upload-list__item\', \'is-\' + file.status]" key="{{file}}">\n\t\t\t\t\t\t\t\t<img class="el-upload-list__item-thumbnail" ng-if="file.status === \'success\'" ng-src="{{file.url}}" alt="">\n\t\t\t\t\t\t\t\t<label v-show="file.status === \'success\'" class="el-upload-list__item-status-label">\n\t\t\t\t\t\t\t\t\t\t\t<i class="el-icon-check" ng-click="remove(\'remove\', file)"></i>\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<span class="el-upload-list__item-actions" ng-if="file.status === \'success\'">\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tng-click="handlePreview(file)"\n\t\t\t\t\t\t\t\t\t\t\tclass="el-upload-list__item-preview"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<i class="el-icon-view"></i>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span class="el-upload-list__item-delete" ng-click="remove(\'remove\', file)">\n\t\t\t\t\t\t\t\t\t\t\t\t<i class="el-icon-delete2"></i>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<div class="el-upload el-upload--picture-card" ng-click="handleClick($event)">\n\t\t\t\t\t\t\t<i class="el-icon-plus"></i>\n\t\t\t\t\t\t\t<input class="el-upload__input" type="file" ng-model="file" onchange="angular.element(this).scope().handleChange(this)" multiple="true"\n\t\t\t\t\t\t\t\taccept="PNG|jpg"></input>\n\t\t\t\t\t\t</div>',controller:e,bindings:{fileList:"=?",onSuccess:"=?",onRemove:"=?",onError:"=?",action:"=?"}})}(angular);